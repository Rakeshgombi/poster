{% extends 'base.html' %}
{% load static %}
{% block composeactive %}active{% endblock composeactive %}
{% block body %}

{% if user.is_authenticated %}
<div class="container my-5 bg-dark ">
  <h3 class="mb-4">Edit Blog</h3>

  <form action="#" method="POST"> {% csrf_token %}
    <div class="input-group mb-3">
      <label class="input-group-text  bg-dark  border" for="inputGroupSelect01">Category</label>

      <select class="form-select  bg-dark  border" id="inputGroupSelect01" name="category" required value="">
        <option selected value="{{post.category}}" class="">{{post.category}}</option>
        <option value="Tech">Tech Blog</option>
        <option value="Nature">Nature</option>
        <option value="Political">Political</option>
      </select>
    </div>
    <div class="input-group mb-3">
      <input type="text" class="form-control   bg-dark  border" placeholder="Enter the Title"
        aria-label="Recipient's username" aria-describedby="basic-addon2" name="title" value="{{post.title}}">
      <span class="input-group-text bg-dark  border" id="basic-addon2">Title</span>
    </div>
    <input type="hidden" class="form-control" id="basic-url" aria-describedby="basic-addon3" name="author"
      value="{{request.user}}">
    <div class="input-group mb-3">
      <textarea id="default" class="form-control" aria-label="With textarea" name="content">{{post.content}}</textarea>
    </div>
    <div class="input-group">
      <button type="submit" class="btn btn-success">Submit</button>
    </div>
  </form>
</div>
{% else %}
<div class="container my-5 bg-dark p-4 border shadow-lg rounded ">
  <h3>Sign in To Compose your own blog</h3>
  <button class="btn btn-outline-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSignUp"
    aria-controls="offcanvasRight">SignUp</button>
  <button class="btn btn-outline-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSignIn"
    aria-controls="offcanvasRight">SignIn</button>
</div>
{% endif %}

{% endblock body %}
{% block script %}
<script src="https://cdn.tiny.cloud/1/11ddu8bq9gxdm71uo0x3fw08yg016jvgxcwpg1ch29mgzoq9/tinymce/5/tinymce.min.js"
  referrerpolicy="origin"></script>

<script src="{% static 'scripts/composeBlog.js' %}" type="text/javascript"></script>
{% endblock script %}